<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Login â€” Fast Mailer</title>
<link rel="stylesheet" href="style.css">
</head>
<body>
<div class="form-box">
  <h2>ðŸ”’ Login</h2>
  <input id="username" placeholder="Username" autocomplete="username">
  <input id="password" type="password" placeholder="Password" autocomplete="current-password">
  <button id="loginBtn">Login</button>
  <p id="loginStatus"></p>
</div>

<script>
const status = id=>document.getElementById(id);
document.getElementById('loginBtn').addEventListener('click', async ()=>{
  const u = status('username').value.trim();
  const p = status('password').value.trim();
  status('loginStatus').innerText = '';
  if(!u||!p){ status('loginStatus').innerText='Enter credentials'; return; }
  try{
    const r = await fetch('/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:u,password:p})});
    const j = await r.json();
    if(j.success) location.href = '/launcher';
    else status('loginStatus').innerText = j.message || 'Login failed';
  }catch(e){ status('loginStatus').innerText = 'Server error'; console.error(e); }
});
</script>
</body>
</html>
