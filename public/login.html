<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Login</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="form-box">
    <h2>ðŸ”’ Login</h2>
    <input id="username" placeholder="Username" autocomplete="username">
    <input id="password" type="password" placeholder="Password" autocomplete="current-password">
    <button id="loginBtn">Login</button>
    <p id="loginStatus"></p>
  </div>

<script>
const el=id=>document.getElementById(id);
el('loginBtn').addEventListener('click', async ()=>{
  el('loginStatus').innerText='';
  const u=el('username').value.trim(), p=el('password').value.trim();
  if(!u||!p){ el('loginStatus').innerText='Enter credentials'; return; }
  try{
    const r=await fetch('/login',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({username:u,password:p})});
    const j=await r.json();
    if(j.success) location.href='/launcher';
    else el('loginStatus').innerText = j.message || 'Login failed';
  }catch(e){ el('loginStatus').innerText='Server error'; console.error(e); }
});
</script>
</body>
</html>
